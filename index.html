<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="计算巢是阿里云开放给企业应用服务商的服务管理平台。服务商能够在计算巢上发布私有化部署服务，为其客户提供云上软件一键部署的能力；同时也支持全托管模式的服务，赋能服务商托管其客户资源。">
  <title>云数据库TiDB单可用区集群服务 - Aliyun 计算巢 x TiDB</title>

  <link rel="shortcut icon" href="img/favicon.ico">

  <link rel="stylesheet" href="https://unpkg.com/purecss@1.0.0/build/pure-min.css">
  <link rel="stylesheet" href="css/theme.css">
  

  

  
  

  
    <script src="search/main.js"></script>
  

  

  <script src="js/highlight.min.js"></script>
  <script>hljs.highlightAll();</script>
</head>

<body>
  <div class="container">
    <div class="nav">
      <div class="nav-inner">
        <div class="logo">
          <img src="./img/logo-2x.png">
        </div>
        <div class="nav-list">
          <ul>
          
              <li><a href="#tidb">云数据库TiDB单可用区集群服务</a></li>
              
                  <li><a href="#_1">概述</a></li>
                  
              
                  <li><a href="#ram">RAM账号所需权限</a></li>
                  
              
                  <li><a href="#tidb_1">TiDB单可用区集群服务资源配置</a></li>
                  
              
                  <li><a href="#_2">部署流程</a></li>
                  
              
                  <li><a href="#tidb_2">登录TiDB集群</a></li>
                  
              
                  <li><a href="#tidb_3">TiDB集群扩缩容管理</a></li>
                  
              
          
          </ul>
        </div>
      </div>
    </div>
    <div class="content theme-github">
      
      <div class="content-inner">        
        
        <h1 id="tidb">云数据库TiDB单可用区集群服务</h1>
<blockquote>
<p><strong>免责声明：</strong>本文档可能包含第三方产品信息，该信息仅供参考。阿里云对第三方产品的性能、可靠性以及操作可能带来的潜在影响，不做任何暗示或其他形式的承诺。</p>
</blockquote>
<h2 id="_1">概述</h2>
<p>TiDB单可用区集群是基于阿里云环境部署优化，提供OLTP规模化和实时HTAP能力，具备云原生、一键扩缩容、金融级高可用、兼容MySQL协议和大数据生态等重要特性的云数据库。本文介绍了部署TiDB单可用区集群服务实例的详细说明。</p>
<h2 id="ram">RAM账号所需权限</h2>
<p>TiDB单可用区集群服务需要对ECS、ESS、SLB、VPC和OSS等资源进行访问和创建操作，若您使用RAM账号创建服务实例，则需要在创建服务实例前，对使用的RAM账号添加相应资源的权限。</p>
<table>
<thead>
<tr>
<th>权限策略名称</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>AliyunECSFullAccess</td>
<td>管理云服务器服务（ECS）的权限</td>
</tr>
<tr>
<td>AliyunESSFullAccess</td>
<td>管理弹性伸缩服务（ESS）的权限</td>
</tr>
<tr>
<td>AliyunSLBFullAccess</td>
<td>管理负载均衡服务（SLB）的权限</td>
</tr>
<tr>
<td>AliyunVPCFullAccess</td>
<td>管理专有网络（VPC）的权限</td>
</tr>
<tr>
<td>AliyunOSSFullAccess</td>
<td>管理对象存储服务（OSS）权限</td>
</tr>
<tr>
<td>AliyunEIPFullAccess</td>
<td>管理弹性公网IP（EIP）的权限</td>
</tr>
</tbody>
</table>
<h2 id="tidb_1">TiDB单可用区集群服务资源配置</h2>
<p>在部署服务实例前，您需要提前完成相关资源的准备和配置以保证服务实例能够部署成功。服务资源的基础版最小配置和高配版最小配置如下表所示。
<strong>重要</strong> 系统空间可根据实际情况进行调整，但是不能少于40 GB。</p>
<table>
<thead>
<tr>
<th>配置项</th>
<th>基础版</th>
<th>高配版</th>
</tr>
</thead>
<tbody>
<tr>
<td>本地SSD ECS实例</td>
<td>3台8 vCPU 64 GiB的本地SSD ECS实例</td>
<td>3台16 vCPU 64 GiB的本地SSD ECS实例</td>
</tr>
<tr>
<td>计算型ECS实例</td>
<td>4台2 vCPU 4 GiB的计算型ECS实例 2台4 vCPU 8 GiB的计算型ECS实例</td>
<td>3台4 vCPU 8 GiB的计算型ECS实例 2台8 vCPU 16 GiB的计算型ECS实例 1台2 vCPU 4 GiB的计算型ECS实例</td>
</tr>
<tr>
<td>高阶型SLB负载均衡</td>
<td>1个</td>
<td>1个</td>
</tr>
<tr>
<td>EIP绑定的ECS实例</td>
<td>1个</td>
<td>1个</td>
</tr>
<tr>
<td>系统盘</td>
<td>40 GB</td>
<td>40 GB</td>
</tr>
</tbody>
</table>
<h2 id="_2">部署流程</h2>
<p><strong>部署步骤</strong></p>
<ol>
<li>
<p>点击部署链接购买商品并通过商品详情中的部署链接完成部署。</p>
</li>
<li>
<p>服务实例部署成功后，通过服务部署的SLB负载均衡访问TiDB数据库服务。</p>
</li>
</ol>
<p><strong>部署参数说明</strong></p>
<p>用户可以通过服务商在计算巢中发布的服务部署链接，一键部署阿里云资源和服务商提供的软件。用户在创建服务实例的过程中，需要配置服务实例信息，下文介绍
TiDB 单可用区集群服务需要配置的详细参数及注意事项。</p>
<ul>
<li><strong>地域</strong></li>
</ul>
<p>请结合实际情况选择合适地域，TiDB单可用区集群服务目前适用于任何地域。
  <img alt="地域" src="images/p448528.png" /></p>
<ul>
<li><strong>付费类型</strong></li>
</ul>
<p>支持按量付费以及预付费两种付费模式，用户可以根据实际情况进行选择。</p>
<ul>
<li><strong>套餐选择</strong></li>
</ul>
<p>TiDB单可用区集群服务目前支持基础版与高配版两种套餐类型，分别对应不同的机器配置和性能。
  <img alt="选择套餐" src="images/p447310.png" /></p>
<ul>
<li><strong>拓扑信息</strong></li>
</ul>
<p>拓扑信息区域参数已默认填写，您可以根据您的业务需求修改默认值。
  <img alt="拓扑信息" src="images/p447339.png" /></p>
<ul>
<li><strong>基础资源配置</strong></li>
</ul>
<p>设置单可用区内VPC专有网络以及交换机资源。
  <img alt="基础资源配置" src="images/p447342.png" /></p>
<ul>
<li><strong>集群信息</strong></li>
</ul>
<p>设置系统盘大小和登录密码。</p>
<p>系统盘的默认值为：40 GB。取值范围：40\~500，单位：GB。</p>
<p>登录密码，长度8-30字符，必须包含三项（大写字母、小写字母、数字、 ()`\~!@#$%\^\&amp;*_-+=|{}[]:;'\&lt;&gt;,.?/ 中的特殊符号）。
  <strong>重要</strong> 此处设置的登录密码服为服务实例部署完成后ECS服务器、TiDB集群服务和TiDB 集群监控Grafana登录密码。请妥善保存。</p>
<p><img alt="集群信息" src="images/p447375.png" /></p>
<ul>
<li><strong>标签和资源组</strong></li>
</ul>
<p>可根据需要对TiDB单可用区集群服务设置标签属性以及资源组归属。
  <img alt="标签和资源组" src="images/p447383.png" /></p>
<h2 id="tidb_2">登录TiDB集群</h2>
<p>服务实例部署完成后，您可以登录服务的TiDB集群查看实例资源信息。</p>
<ol>
<li>
<p>登录<a href="https://computenest.console.aliyun.com/#/vendor/cn-hangzhou/services">计算巢控制台</a>。</p>
</li>
<li>
<p>在左侧导航栏，单击 <strong>服务实例管理</strong> 。</p>
</li>
<li>
<p>在 <strong>私有部署服务</strong> 页签中，找到您创建的服务实例。</p>
</li>
<li>
<p>单击创建的服务实例ID，进入服务实例详情页面。<img alt="服务实例详情" src="images/p447926.png" /></p>
</li>
<li>
<p>单击 <strong>概览</strong> ，在概览页签查看TiDB数据库集群信息。</p>
<ul>
<li>
<p>单击 <strong>TiDB Dasboard</strong> 后的IP地址，进入可视化运维监控界面，登录后可查看运维监控信息。</p>
</li>
<li>
<p>单击 <strong>Grafana</strong> 后的IP地址，进入可视化集群性能监控界面，登录后可查看性能监控信息。</p>
</li>
</ul>
<p>在集群性能监控界面，单击 <strong>TiDB-prod-Overview</strong> ，可以查看数据库集群实例的概览。
  <img alt="实例概览" src="images/p447555.png" /></p>
</li>
<li>
<p>单击 <strong>资源</strong> 页签，找到实例名称为 <strong>ControlServer</strong> 的实例。单击 <strong>操作</strong> 列的 **远程连接
   ** 。<img alt="远程连接" src="images/p447928.png" /></p>
</li>
</ol>
<p>登录TiDB数据库管理控制台TiUP，登录控制台后查看集群信息。<img alt="集群信息" src="images/p447558.png" /></p>
<h2 id="tidb_3">TiDB集群扩缩容管理</h2>
<p>若当前的业务量和数据量有明显增加或减少是，您可以根据实际情况对TiDB集群进行扩缩容操作。
<strong>重要</strong> 若您要进行扩缩容操作，需分别对TiDB计算节点伸缩组和TiKV储存节点伸缩组进行扩缩容。</p>
<ol>
<li>
<p>使用阿里云主账号，登录<a href="https://computenest.console.aliyun.com/#/vendor/cn-hangzhou/services">计算巢控制台</a>。</p>
</li>
<li>
<p>在左侧导航栏，单击 <strong>服务实例管理</strong> 。</p>
</li>
<li>
<p>在 <strong>私有部署服务</strong> 页签中，找到您创建的服务实例。</p>
</li>
<li>
<p>单击创建的服务实例ID，进入服务实例详情页面。<img alt="服务实例详情" src="images/p447926.png" /></p>
</li>
<li>
<p>单击 <strong>运维管理</strong> ，在 <strong>应用运维</strong> 框中，单击 <strong>弹性扩缩容</strong> 。</p>
</li>
<li>
<p>在弹性扩缩容弹框中，配置扩缩容信息。</p>
</li>
</ol>
<table>
<thead>
<tr>
<th>配置项</th>
<th>配置说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>伸缩组ID</td>
<td>选择需要进行扩缩容操作的伸缩组名称。</td>
</tr>
<tr>
<td>伸缩规则的调整方式</td>
<td>根据规划选择扩容、缩容或调整至指定数量。</td>
</tr>
<tr>
<td>伸缩组ECS实例调整的数量</td>
<td>填写实例调整的数量。</td>
</tr>
<tr>
<td>OOS扮演的RAM角色</td>
<td>选择进行扩缩容操作的权限。默认使用当前账号的已有权限。</td>
</tr>
<tr>
<td>任务描述</td>
<td>对扩缩容操作的描述。</td>
</tr>
</tbody>
</table>
<ol>
<li>单击 <strong>创建</strong> 。</li>
</ol>
<p>创建完成后，您可以在 <strong>运维管理</strong> 页签，查看扩缩容进度。
   <img alt="查看扩缩容进度" src="images/p447682.png" /></p>
<p>伸缩组完成扩缩容后，您可以在iDB数据库集群管理控制台通过Tiup查看扩缩容信息。
   <img alt="查询扩缩容信息" src="images/p447684.png" /></p>
        
      </div>

      <div class="copyrights">© 2009-2022 Aliyun.com 版权所有</div>
    </div>
  </div>
  
  <!--
  MkDocs version      : 1.6.1
  Docs Build Date UTC : 2024-10-28 06:11:34.933448+00:00
  -->
</body>
</html>